// import 'reflect-metadata';
// import { AppDataSource } from '../src/config/data-source'; 
// import { Role } from '../src/modules/roles/entities/role.entity';
// import { RoleEnum } from '../src/modules/roles/role.enum';
// import { User } from '../src/modules/users/entities/user.entity';
// import { Skill } from '../src/modules/skills/entities/skill.entity';
// import { EmployeeProfile } from '../src/modules/employees/entities/employee_profile.entity';
// import { Technology } from '../src/modules/technologies/entities/technology.entity';
// import { Project } from '../src/modules/project/entities/project.entity';
// import { ProjectMember } from '../src/modules/project_member/entities/project_member.entity';
// import { ProjectTechnology } from '../src/modules/technologies/entities/project_technology.entity';
// import * as bcrypt from 'bcryptjs';

// async function seed() {
//   await AppDataSource.initialize();
//   const roleRepo = AppDataSource.getRepository(Role);
//   const userRepo = AppDataSource.getRepository(User);
//   const skillRepo = AppDataSource.getRepository(Skill);
//   const employeeRepo = AppDataSource.getRepository(EmployeeProfile);
//   const techRepo = AppDataSource.getRepository(Technology);
//   const projectRepo = AppDataSource.getRepository(Project);
//   const memberRepo = AppDataSource.getRepository(ProjectMember);
//   const projTechRepo = AppDataSource.getRepository(ProjectTechnology);

//   console.log('ğŸŒ± Seeding database...');

//   // Seed roles
//   const rolesToSeed = [
//     { name: RoleEnum.ADMIN, description: 'Administrator with full access' },
//     { name: RoleEnum.USER, description: 'Default user' },
//   ];

//   for (const roleData of rolesToSeed) {
//     let role = await roleRepo.findOne({ where: { name: roleData.name } });
//     if (!role) {
//       role = roleRepo.create(roleData);
//       await roleRepo.save(role);
//       console.log(`Role "${roleData.name}" created.`);
//     } else {
//       console.log(`Role "${roleData.name}" already exists.`);
//     }
//   }

//   // Seed admin user
//   const adminEmail = 'admin@labverse.org';
//   let adminUser = await userRepo.findOne({ where: { email: adminEmail } });

//   if (!adminUser) {
//     const adminRole = await roleRepo.findOne({ where: { name: RoleEnum.ADMIN } });
//     const password = await bcrypt.hash('Admin@12345', 10);
//     adminUser = userRepo.create({
//       email: adminEmail,
//       password,
//       fullName: 'Super Admin',
//       role: adminRole,
//     });
//     await userRepo.save(adminUser);
//     console.log(`âœ… Admin user "${adminEmail}" created with password: Admin@12345`);
//   } else {
//     console.log(`Admin user "${adminEmail}" already exists.`);
//   }

//   // Skills
//   const skills = await skillRepo.save([
//     { name: 'NestJS' },
//     { name: 'React' },
//     { name: 'PostgreSQL' },
//   ]);
//   console.log('âœ… Skills seeded');

//   // Technologies
//   const technologies = await techRepo.save([
//     { name: 'TypeScript' },
//     { name: 'Docker' },
//     { name: 'AWS' },
//   ]);
//   console.log('âœ… Technologies seeded');

//   // Employees
//   const employees = await employeeRepo.save([
//     {
//       fullName: 'Hamza Iftikhar',
//       email: 'hamza@labverse.com',
//       position: 'Backend Developer',
//       bio: 'Handles backend services and APIs',
//       skills: [skills[0], skills[2]],
//     },
//     {
//       fullName: 'Umer Shehzad',
//       email: 'umer@labverse.com',
//       position: 'Frontend Developer',
//       bio: 'Frontend expert in React and Tailwind',
//       skills: [skills[1]],
//     },
//   ]);
//   console.log('âœ… Employees seeded');

//   // Projects
//   const project = await projectRepo.save({
//     name: 'Labverse Platform',
//     description: 'Main internal project for managing Labverse',
//     status: 'active',
//     startDate: '2024-06-01',
//     endDate: '2024-12-31',
//   });
//   console.log('âœ… Project seeded');

//   // Assign Members
//   await memberRepo.save([
//     {
//       project,
//       employee: employees[0],
//       roleOnProject: 'Backend Lead',
//     },
//     {
//       project,
//       employee: employees[1],
//       roleOnProject: 'Frontend Engineer',
//     },
//   ]);
//   console.log('âœ… Project members assigned');

//   // Assign Technologies
//   await projTechRepo.save([
//     {
//       project,
//       technology: technologies[0],
//     },
//     {
//       project,
//       technology: technologies[2],
//     },
//   ]);
//   console.log('âœ… Technologies linked to project');

//   console.log('ğŸ‰ All seeding completed successfully!');
//   await AppDataSource.destroy();
//   process.exit(0);
// }

// seed().catch((err) => {
//   console.error('âŒ Seeding error:', err);
//   process.exit(1);
// });